{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\truon\\\\OneDrive\\\\Desktop\\\\School\\\\Semester 8\\\\CS 160\\\\Project\\\\UBYelp\\\\UBYelp\\\\Ubyelp\\\\src\\\\components\\\\Business\\\\Business.js\";\nimport React from 'react';\nimport './Business.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Business extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      listNames: {},\n      key: this.props.key\n    }; //Set in_list and not_list's dropdown menu values to 'names'\n\n    fetch('http://localhost:3001/listnames', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: JSON.stringify({\n        'id': this.props.business.account_id\n      })\n    }).then(response => response.json()).then(names => {\n      //Format: {'list_name': 'list_id', ...}\n      this.setState({\n        listNames: names\n      });\n    });\n    this.addToList = this.addToList.bind(this); //this.openAddToListModal = this.openAddToListModal.bind(this);\n  }\n\n  openModal(business) {\n    let listMenu = document.getElementById('listMenu' + business.id);\n\n    if (listMenu.value !== '') {\n      document.getElementById(\"modal\" + business.id).style.display = 'block';\n      document.getElementById('listId' + business.id).value = listMenu.value;\n      document.getElementById(\"modelHeader\" + business.id).innerHTML = 'Add ' + business.name + ' on ' + business.location.address1 + ' to ' + listMenu.options[listMenu.selectedIndex].text; //document.getElementById(\"successMessage\" + business.id).innerHTML = business.name + ' on ' + business.location.address1 + ' added to ' + listMenu.options[listMenu.selectedIndex].text + '!'\n    }\n  }\n\n  closeModal(key) {\n    document.getElementById(\"modal\" + key).style.display = 'none';\n  }\n\n  renderModalOptions() {\n    return Object.keys(this.state.listNames).map(name => {\n      return /*#__PURE__*/_jsxDEV(\"option\", {\n        value: this.state.listNames[name],\n        children: name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this);\n    });\n  }\n\n  addToList(business) {\n    fetch('http://localhost:3001/addlistitem', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: JSON.stringify({\n        'account_id': business.account_id,\n        'list_id': 'placeholder',\n        'name': business.name,\n        'link': business.url,\n        'desc': 'placeholder',\n        'rating': 'placeholder'\n      })\n    }).then(response => response.json()).then(filters => {\n      console.log(filters); //this.filters = filters\n    });\n  }\n\n  renderAddToList() {} // Renders the individual businesses returned in the search results\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Business\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"image-container\",\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          href: this.props.business.url,\n          target: \"_blank\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: this.props.business.image_url,\n            alt: \"\",\n            width: \"280\",\n            height: \"280\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: this.props.business.url,\n        target: \"_blank\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: this.props.business.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Business-information\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Business-address\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: this.props.business.location.address1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: this.props.business.location.city\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: `${this.props.business.location.state} ${this.props.business.location.zip_code}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Business-reviews\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: this.props.business.categories[0].title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"rating\",\n            children: `${this.props.business.rating} stars`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: `${this.props.business.review_count} reviews`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"listMenu\" + this.props.business.id,\n          children: [this.renderModalOptions(), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select list...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => this.openModal(this.props.business),\n          children: \"Add to list\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"modal\" + this.props.business.id,\n        class: \"modal\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            class: \"close\",\n            onClick: () => this.closeModal(this.props.business.id),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            id: \"modelHeader\" + this.props.business.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"hidden\",\n            id: \"listId\" + this.props.business.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"desc\" + this.props.business.id,\n            cols: \"60\",\n            rows: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Rating for list\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"rating\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: \"rating\",\n              value: \"1\",\n              id: \"1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"1\",\n              children: \"\\u2606\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 82\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: \"rating\",\n              value: \"2\",\n              id: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"2\",\n              children: \"\\u2606\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 82\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: \"rating\",\n              value: \"3\",\n              id: \"3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"3\",\n              children: \"\\u2606\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 82\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: \"rating\",\n              value: \"4\",\n              id: \"4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"4\",\n              children: \"\\u2606\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 82\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: \"rating\",\n              value: \"5\",\n              id: \"5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              for: \"5\",\n              children: \"\\u2606\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 82\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Business;","map":{"version":3,"sources":["C:/Users/truon/OneDrive/Desktop/School/Semester 8/CS 160/Project/UBYelp/UBYelp/Ubyelp/src/components/Business/Business.js"],"names":["React","Business","Component","constructor","props","state","listNames","key","fetch","method","headers","body","JSON","stringify","business","account_id","then","response","json","names","setState","addToList","bind","openModal","listMenu","document","getElementById","id","value","style","display","innerHTML","name","location","address1","options","selectedIndex","text","closeModal","renderModalOptions","Object","keys","map","url","filters","console","log","renderAddToList","render","image_url","city","zip_code","categories","title","rating","review_count"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './Business.css';\r\n\r\nclass Business extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            listNames: {},\r\n            key: this.props.key\r\n        }\r\n        //Set in_list and not_list's dropdown menu values to 'names'\r\n        fetch('http://localhost:3001/listnames', {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n            body: JSON.stringify({\r\n                'id': this.props.business.account_id\r\n            })\r\n        }).then((response) => response.json()\r\n        ).then((names) => {\r\n            //Format: {'list_name': 'list_id', ...}\r\n            this.setState({ listNames: names });\r\n        });\r\n        this.addToList = this.addToList.bind(this);\r\n        //this.openAddToListModal = this.openAddToListModal.bind(this);\r\n    }\r\n    \r\n\r\n\r\n    openModal(business) {\r\n        let listMenu = document.getElementById('listMenu' + business.id);\r\n        if (listMenu.value !== '') {\r\n            document.getElementById(\"modal\" + business.id).style.display = 'block';\r\n            document.getElementById('listId' + business.id).value = listMenu.value;\r\n            document.getElementById(\"modelHeader\" + business.id).innerHTML = 'Add ' + business.name + ' on ' + business.location.address1 + ' to ' + listMenu.options[listMenu.selectedIndex].text;\r\n            //document.getElementById(\"successMessage\" + business.id).innerHTML = business.name + ' on ' + business.location.address1 + ' added to ' + listMenu.options[listMenu.selectedIndex].text + '!'\r\n        }\r\n    }\r\n\r\n    closeModal(key) {\r\n        document.getElementById(\"modal\"+key).style.display = 'none';\r\n    }\r\n\r\n    renderModalOptions() {\r\n        return Object.keys(this.state.listNames).map(name => {\r\n            return (\r\n                <option value={this.state.listNames[name]}>{name}</option>\r\n            );\r\n        });\r\n    }\r\n\r\n    addToList(business) {\r\n        fetch('http://localhost:3001/addlistitem', {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n            body: JSON.stringify({\r\n                'account_id': business.account_id,\r\n                'list_id': 'placeholder',\r\n                'name': business.name,\r\n                'link': business.url,\r\n                'desc': 'placeholder',\r\n                'rating': 'placeholder'\r\n            })\r\n        }).then((response) => response.json()\r\n        ).then((filters) => {\r\n            console.log(filters);\r\n            //this.filters = filters\r\n        });\r\n    }\r\n\r\n    renderAddToList() {\r\n\r\n    }\r\n\r\n    // Renders the individual businesses returned in the search results\r\n    render() {\r\n        return (\r\n            <div className=\"Business\">\r\n                <div className=\"image-container\">\r\n                    <a href={this.props.business.url} target=\"_blank\">\r\n                        <img src={this.props.business.image_url} alt='' width=\"280\" height=\"280\" />\r\n                    </a>\r\n                </div>\r\n                <a href={this.props.business.url} target=\"_blank\">\r\n                    <h2>{this.props.business.name}</h2>\r\n                </a>\r\n                <div className=\"Business-information\">\r\n                    <div className=\"Business-address\">\r\n                        <p>{this.props.business.location.address1}</p>\r\n                        <p>{this.props.business.location.city}</p>\r\n                        <p>{`${this.props.business.location.state} ${this.props.business.location.zip_code}`}</p>\r\n                    </div>\r\n                    <div className=\"Business-reviews\">\r\n                        <h3>{this.props.business.categories[0].title}</h3>\r\n                        <h3 className=\"rating\">{`${this.props.business.rating} stars`}</h3>\r\n                        <p>{`${this.props.business.review_count} reviews`}</p>\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    <select id={\"listMenu\"+this.props.business.id}>\r\n                        {this.renderModalOptions()}\r\n                        <option value=\"\">Select list...</option>\r\n                    </select>\r\n                    <button onClick={() => this.openModal(this.props.business)}>Add to list</button>\r\n                </div>\r\n                <div id={\"modal\"+this.props.business.id} class=\"modal\">\r\n                    <div class=\"modal-content\">\r\n                        <span class=\"close\" onClick={() =>this.closeModal(this.props.business.id)}>&times;</span>\r\n                        <h2 id={\"modelHeader\" + this.props.business.id}></h2>\r\n                        <input type=\"hidden\" id={\"listId\" + this.props.business.id} />\r\n                        <h3>Description</h3>\r\n                        <textarea id={\"desc\" + this.props.business.id} cols=\"60\" rows=\"3\" />\r\n                        <h3>Rating for list</h3>\r\n                        <div class=\"rating\">\r\n                            <input type=\"radio\" name=\"rating\" value=\"1\" id=\"1\" /><label for=\"1\">☆</label>\r\n                            <input type=\"radio\" name=\"rating\" value=\"2\" id=\"2\" /><label for=\"2\">☆</label>\r\n                            <input type=\"radio\" name=\"rating\" value=\"3\" id=\"3\" /><label for=\"3\">☆</label>\r\n                            <input type=\"radio\" name=\"rating\" value=\"4\" id=\"4\" /><label for=\"4\">☆</label>\r\n                            <input type=\"radio\" name=\"rating\" value=\"5\" id=\"5\" /><label for=\"5\">☆</label>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Business;"]},"metadata":{},"sourceType":"module"}