{"ast":null,"code":"// Credential provided by Yelp to use their API\nconst apiKey = '8zjWvQYEUrwtx7rXyqaZbjQ7vuagl3gpNePnEG1NRXmakPtgtzsFluYnTpDt-4vQDQdrdYhfwXmM2BsiXxA-ffTU7jVTtBok8cwjaatAZ8oGrHZ8IBsWWY7ayWXCYHYx'; // Yelp module that stores functionality to interact with Yelp API. Retrieves search results\n\nvar x = new XMLHttpRequest();\nx.open('GET', 'https://cors-anywhere.herokuapp.com/https://example.com');\nx.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n\nx.onload = function () {\n  alert(x.responseText);\n};\n\nx.send();\nconst Yelp = {\n  search(term, location, sortBy) {\n    return fetch(`https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?term=${term}&location=${location}&sort_by=${sortBy}`, {\n      headers: {\n        Authorization: `Bearer ${apiKey}`\n      }\n    }).then(response => {\n      return response.json();\n    }).then(jsonResponse => {\n      if (jsonResponse.businesses) {\n        return jsonResponse.businesses.map(business => ({\n          id: business.id,\n          imageSrc: business.image_url,\n          name: business.name,\n          address: business.location.adress1,\n          city: business.location.city,\n          state: business.location.state,\n          zipCode: business.location.zip_code,\n          category: business.categories[0].title,\n          rating: business.rating,\n          reviewCount: business.review_count,\n          price: business.price,\n          opentime: business.opentime\n        }));\n      }\n    });\n  }\n\n};\nexport default Yelp;","map":{"version":3,"sources":["C:/Users/truon/OneDrive/Desktop/School/Semester 8/CS 160/Project/UBYelp/UBYelp/Ubyelp/src/util/Yelp.js"],"names":["apiKey","x","XMLHttpRequest","open","setRequestHeader","onload","alert","responseText","send","Yelp","search","term","location","sortBy","fetch","headers","Authorization","then","response","json","jsonResponse","businesses","map","business","id","imageSrc","image_url","name","address","adress1","city","state","zipCode","zip_code","category","categories","title","rating","reviewCount","review_count","price","opentime"],"mappings":"AAAA;AACA,MAAMA,MAAM,GAAG,kIAAf,C,CAEA;;AAEA,IAAIC,CAAC,GAAG,IAAIC,cAAJ,EAAR;AACAD,CAAC,CAACE,IAAF,CAAO,KAAP,EAAc,yDAAd;AACAF,CAAC,CAACG,gBAAF,CAAmB,kBAAnB,EAAuC,gBAAvC;;AACAH,CAAC,CAACI,MAAF,GAAW,YAAW;AAClBC,EAAAA,KAAK,CAACL,CAAC,CAACM,YAAH,CAAL;AACH,CAFD;;AAGAN,CAAC,CAACO,IAAF;AAGA,MAAMC,IAAI,GAAG;AACTC,EAAAA,MAAM,CAAEC,IAAF,EAAQC,QAAR,EAAkBC,MAAlB,EAA0B;AAC5B,WAAOC,KAAK,CAAE,sFAAqFH,IAAK,aAAYC,QAAS,YAAWC,MAAO,EAAnI,EACA;AACIE,MAAAA,OAAO,EAAE;AACLC,QAAAA,aAAa,EAAG,UAAShB,MAAO;AAD3B;AADb,KADA,CAAL,CAKQiB,IALR,CAKaC,QAAQ,IAAI;AAChB,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,KAPN,EAOQF,IAPR,CAOaG,YAAY,IAAI;AACpB,UAAGA,YAAY,CAACC,UAAhB,EAA4B;AACxB,eAAOD,YAAY,CAACC,UAAb,CAAwBC,GAAxB,CAA4BC,QAAQ,KAAK;AAC5CC,UAAAA,EAAE,EAAED,QAAQ,CAACC,EAD+B;AAE5CC,UAAAA,QAAQ,EAAEF,QAAQ,CAACG,SAFyB;AAG5CC,UAAAA,IAAI,EAAEJ,QAAQ,CAACI,IAH6B;AAI5CC,UAAAA,OAAO,EAAEL,QAAQ,CAACX,QAAT,CAAkBiB,OAJiB;AAK5CC,UAAAA,IAAI,EAAEP,QAAQ,CAACX,QAAT,CAAkBkB,IALoB;AAM5CC,UAAAA,KAAK,EAAER,QAAQ,CAACX,QAAT,CAAkBmB,KANmB;AAO5CC,UAAAA,OAAO,EAAET,QAAQ,CAACX,QAAT,CAAkBqB,QAPiB;AAQ5CC,UAAAA,QAAQ,EAAEX,QAAQ,CAACY,UAAT,CAAoB,CAApB,EAAuBC,KARW;AAS5CC,UAAAA,MAAM,EAAEd,QAAQ,CAACc,MAT2B;AAU5CC,UAAAA,WAAW,EAAEf,QAAQ,CAACgB,YAVsB;AAW5CC,UAAAA,KAAK,EAACjB,QAAQ,CAACiB,KAX6B;AAY5CC,UAAAA,QAAQ,EAAClB,QAAQ,CAACkB;AAZ0B,SAAL,CAApC,CAAP;AAcH;AACJ,KAxBN,CAAP;AAyBH;;AA3BQ,CAAb;AA8BA,eAAehC,IAAf","sourcesContent":["// Credential provided by Yelp to use their API\nconst apiKey = '8zjWvQYEUrwtx7rXyqaZbjQ7vuagl3gpNePnEG1NRXmakPtgtzsFluYnTpDt-4vQDQdrdYhfwXmM2BsiXxA-ffTU7jVTtBok8cwjaatAZ8oGrHZ8IBsWWY7ayWXCYHYx';\n\n// Yelp module that stores functionality to interact with Yelp API. Retrieves search results\n\nvar x = new XMLHttpRequest();\nx.open('GET', 'https://cors-anywhere.herokuapp.com/https://example.com');\nx.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\nx.onload = function() {\n    alert(x.responseText);\n};\nx.send();\n\n\nconst Yelp = {\n    search (term, location, sortBy) {\n        return fetch(`https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?term=${term}&location=${location}&sort_by=${sortBy}`,\n                    {\n                        headers: {\n                            Authorization: `Bearer ${apiKey}`\n                        }\n                    }).then(response => {\n                        return response.json();\n                    }).then(jsonResponse => {\n                        if(jsonResponse.businesses) {\n                            return jsonResponse.businesses.map(business => ({\n                                id: business.id,\n                                imageSrc: business.image_url,\n                                name: business.name,\n                                address: business.location.adress1,\n                                city: business.location.city,\n                                state: business.location.state,\n                                zipCode: business.location.zip_code,\n                                category: business.categories[0].title,\n                                rating: business.rating,\n                                reviewCount: business.review_count,\n                                price:business.price,  \n                                opentime:business.opentime\n                            }));\n                        }\n                    });\n    }\n};\n\nexport default Yelp;"]},"metadata":{},"sourceType":"module"}